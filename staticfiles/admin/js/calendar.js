"use strict";{const t={monthsOfYear:[gettext("January"),gettext("February"),gettext("March"),gettext("April"),gettext("May"),gettext("June"),gettext("July"),gettext("August"),gettext("September"),gettext("October"),gettext("November"),gettext("December")],monthsOfYearAbbrev:[pgettext("abbrev. month January","Jan"),pgettext("abbrev. month February","Feb"),pgettext("abbrev. month March","Mar"),pgettext("abbrev. month April","Apr"),pgettext("abbrev. month May","May"),pgettext("abbrev. month June","Jun"),pgettext("abbrev. month July","Jul"),pgettext("abbrev. month August","Aug"),pgettext("abbrev. month September","Sep"),pgettext("abbrev. month October","Oct"),pgettext("abbrev. month November","Nov"),pgettext("abbrev. month December","Dec")],daysOfWeek:[pgettext("one letter Sunday","S"),pgettext("one letter Monday","M"),pgettext("one letter Tuesday","T"),pgettext("one letter Wednesday","W"),pgettext("one letter Thursday","T"),pgettext("one letter Friday","F"),pgettext("one letter Saturday","S")],firstDayOfWeek:parseInt(get_format("FIRST_DAY_OF_WEEK")),isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(e,r){let n;return n=1===e||3===e||5===e||7===e||8===e||10===e||12===e?31:4===e||6===e||9===e||11===e?30:2===e&&t.isLeapYear(r)?29:28},draw:function(e,r,n,a,o){const i=new Date,s=i.getDate(),u=i.getMonth()+1,c=i.getFullYear();let h="",l=!1;void 0!==o&&(l=o.getUTCFullYear()===r&&o.getUTCMonth()+1===e),e=parseInt(e),r=parseInt(r);const d=document.getElementById(n);removeChildren(d);const g=document.createElement("table");quickElement("caption",g,t.monthsOfYear[e-1]+" "+r);const b=quickElement("tbody",g);let m=quickElement("tr",b);for(let e=0;e<7;e++)quickElement("th",m,t.daysOfWeek[(e+t.firstDayOfWeek)%7]);const p=new Date(r,e-1,1-t.firstDayOfWeek).getDay(),x=t.getDaysInMonth(e,r);let y;m=quickElement("tr",b);for(let t=0;t<p;t++)(y=quickElement("td",m," ")).className="nonday";function f(t,e){return function(r){r.preventDefault(),a(t,e,this.textContent)}}let v=1;for(let t=p;v<=x;t++){t%7==0&&1!==v&&(m=quickElement("tr",b)),h=v===s&&e===u&&r===c?"today":"",l&&v===o.getUTCDate()&&(""!==h&&(h+=" "),h+="selected");const n=quickElement("td",m,"","class",h);quickElement("a",n,v,"href","#").addEventListener("click",f(r,e)),v++}for(;m.childNodes.length<7;)(y=quickElement("td",m," ")).className="nonday";d.appendChild(g)}};function Calendar(t,e,r){this.div_id=t,this.callback=e,this.today=new Date,this.currentMonth=this.today.getMonth()+1,this.currentYear=this.today.getFullYear(),void 0!==r&&(this.selected=r)}Calendar.prototype={drawCurrent:function(){t.draw(this.currentMonth,this.currentYear,this.div_id,this.callback,this.selected)},drawDate:function(t,e,r){this.currentMonth=t,this.currentYear=e,r&&(this.selected=r),this.drawCurrent()},drawPreviousMonth:function(){1===this.currentMonth?(this.currentMonth=12,this.currentYear--):this.currentMonth--,this.drawCurrent()},drawNextMonth:function(){12===this.currentMonth?(this.currentMonth=1,this.currentYear++):this.currentMonth++,this.drawCurrent()},drawPreviousYear:function(){this.currentYear--,this.drawCurrent()},drawNextYear:function(){this.currentYear++,this.drawCurrent()}},window.Calendar=Calendar,window.CalendarNamespace=t}